"0","hours2 <- gsub(""\\[|\\]"", """", hours)"
"0","split <- strsplit(hours2, ""[,]"")"
"0","get_time <- function(t){"
"0","  split_1 <- gsub("".*day\\s(.*?)*"", """", x = split[[t]] )"
"0","  split_2 <- strsplit(split_1, ""'"")"
"0","}"
"0","split_3 <- sapply(1:length(split), get_time)"
"0","get_business <- function(i){"
"0","  matrix(unlist(split_3[[i]]), nrow = length(split_3[[i]]))"
"0","}"
"0","split_4 <- sapply(1:length(split_3), get_business)"
"0","names(split_4) <- test_business$business_id"
"0","wow <- lapply(split_4, function(x) x[!is.na(x)])"
"0","wow2 <- wow[lapply(wow,length)>0]"
"0","#split_5 <- matrix(wow2, ncol = length(wow2))"
"0","split_5 <- wow[lapply(wow,length)>0]"
"0","###"
"0","get_days <- function(i){"
"0","  length(split_5[[i]])"
"0","}"
"0","num_days <- sapply(1:length(split_5), get_days)"
"0","###"
"0","get_hours_one_business <- function(i){"
"0","  clean <- strsplit(as.character(split_5[[i]]), ""-"")"
"0","  "
"0","  getpls <- function(k){"
"0","    strsplit(as.character(clean[[k]]), "":"")"
"0","  }"
"0","  "
"0","  cleaned <- sapply(1:num_days[i], getpls)"
"0","  mat <- matrix(as.numeric(unlist(cleaned)), ncol = 4, byrow = TRUE)"
"0","  "
"0","  mat2 <- cbind(abs(mat[,3] - mat[,1]), abs(mat[,4] - mat[,2])/60)"
"0","  "
"0","  mat3 <- mat2[,1] + mat2[,2]"
"0","  mat4 <- sum(mat3)"
"0","}"
"0","finally <- as.data.frame(sapply(seq_along(split_5), get_hours_one_business))"
"0","finally2 <- cbind(names(split_5), finally)"
"0","#names(finally) <- names(split_5)"
"0","colnames(finally2) <- c(""business_id"", ""hours"")"
"0","write.csv(finally2, file = ""test_business_hours"")"
